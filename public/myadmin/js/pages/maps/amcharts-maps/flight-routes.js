"use strict";$(document).ready(function(){am4core.ready(function(){am4core.useTheme(am4themes_animated);var l=am4core.create("map-7",am4maps.MapChart),e=new am4core.InterfaceColorSet;l.geodata=am4geodata_worldLow,l.projection=new am4maps.projections.Mercator,l.exporting.menu=new am4core.ExportMenu,l.zoomControl=new am4maps.ZoomControl;var t="M9,0C4.029,0,0,4.029,0,9s4.029,9,9,9s9-4.029,9-9S13.971,0,9,0z M9,15.93 c-3.83,0-6.93-3.1-6.93-6.93S5.17,2.07,9,2.07s6.93,3.1,6.93,6.93S12.83,15.93,9,15.93 M12.5,9c0,1.933-1.567,3.5-3.5,3.5S5.5,10.933,5.5,9S7.067,5.5,9,5.5 S12.5,7.067,12.5,9z",i=l.createChild(am4core.Container);i.isMeasured=!1,i.x=80,i.y=27,i.layout="horizontal",i.zIndex=10;var a=i.createChild(am4core.Sprite);a.scale=.15,a.path="m2,106h28l24,30h72l-44,-133h35l80,132h98c21,0 21,34 0,34l-98,0 -80,134h-35l43,-133h-71l-24,30h-28l15,-47",a.fill=am4core.color("#cc0000");var o=i.createChild(am4core.Label);o.text="Flights from London",o.fill=am4core.color("#cc0000"),o.fontSize=20,o.valign="middle",o.dy=2,o.marginLeft=15;var r=l.createChild(am4core.TextLink);r.text="Click to change origin city",r.isMeasured=!1,r.events.on("hit",function(){v==n.dataItems.getIndex(0)?y(n.dataItems.getIndex(1)):y(n.dataItems.getIndex(0))}),r.x=142,r.y=72,r.fontSize=13;var d=l.series.push(new am4maps.MapPolygonSeries);d.useGeodata=!0,d.fillOpacity=.6,d.exclude=["AQ"];var n=l.series.push(new am4maps.MapImageSeries),s=n.mapImages.template;s.propertyFields.latitude="latitude",s.propertyFields.longitude="longitude",s.propertyFields.id="id",s.cursorOverStyle=am4core.MouseCursorStyle.pointer,s.nonScaling=!0,s.tooltipText="{title}",s.setStateOnChildren=!0,s.states.create("hover"),s.horizontalCenter="middle",s.verticalCenter="middle";var u=s.createChild(am4core.Circle);u.radius=11,u.fill=e.getFor("background");var m=s.createChild(am4core.Sprite);m.fill=e.getFor("alternativeBackground"),m.strokeWidth=0,m.scale=1.3,m.horizontalCenter="middle",m.verticalCenter="middle",m.path=t,m.states.create("hover").properties.fill=l.colors.getIndex(1),s.events.on("hit",function(e){y(e.target.dataItem)});var c=l.series.push(new am4maps.MapImageSeries),g=c.mapImages.template;g.nonScaling=!0,g.tooltipText="{title}",g.fill=e.getFor("alternativeBackground"),g.setStateOnChildren=!0,g.states.create("hover"),g.propertyFields.latitude="latitude",g.propertyFields.longitude="longitude",g.propertyFields.id="id";var p=g.createChild(am4core.Circle);p.radius=7,p.fillOpacity=1,p.fill=e.getFor("background");var h=g.createChild(am4core.Sprite);h.scale=.7,h.path=t,h.horizontalCenter="middle",h.verticalCenter="middle",n.data=[{id:"london",title:"London",destinations:["vilnius","reykjavik","lisbon","moscow","belgrade","ljublana","madrid","stockholm","bern","kiev","new york"],latitude:51.5002,longitude:-.1262,scale:1.5,zoomLevel:2.74,zoomLongitude:-20.1341,zoomLatitude:49.1712},{id:"vilnius",title:"Vilnius",destinations:["london","brussels","prague","athens","dublin","oslo","moscow","bratislava","belgrade","madrid"],latitude:54.6896,longitude:25.2799,scale:1.5,zoomLevel:4.92,zoomLongitude:15.4492,zoomLatitude:50.2631}],c.data=[{id:"brussels",title:"Brussels",latitude:50.8371,longitude:4.3676},{id:"prague",title:"Prague",latitude:50.0878,longitude:14.4205},{id:"athens",title:"Athens",latitude:37.9792,longitude:23.7166},{id:"reykjavik",title:"Reykjavik",latitude:64.1353,longitude:-21.8952},{id:"dublin",title:"Dublin",latitude:53.3441,longitude:-6.2675},{id:"oslo",title:"Oslo",latitude:59.9138,longitude:10.7387},{id:"lisbon",title:"Lisbon",latitude:38.7072,longitude:-9.1355},{id:"moscow",title:"Moscow",latitude:55.7558,longitude:37.6176},{id:"belgrade",title:"Belgrade",latitude:44.8048,longitude:20.4781},{id:"bratislava",title:"Bratislava",latitude:48.2116,longitude:17.1547},{id:"ljublana",title:"Ljubljana",latitude:46.0514,longitude:14.506},{id:"madrid",title:"Madrid",latitude:40.4167,longitude:-3.7033},{id:"stockholm",title:"Stockholm",latitude:59.3328,longitude:18.0645},{id:"bern",title:"Bern",latitude:46.948,longitude:7.4481},{id:"kiev",title:"Kiev",latitude:50.4422,longitude:30.5367},{id:"paris",title:"Paris",latitude:48.8567,longitude:2.351},{id:"new york",title:"New York",latitude:40.43,longitude:-74}];var v,C=l.series.push(new am4maps.MapLineSeries);function y(e){var t=e.dataContext,i=t.destinations;if(C.mapLines.clear(),C.toBack(),d.toBack(),v=e,i)for(var a=0;a<i.length;a++){C.mapLines.create().imagesToConnect=[e.mapImage.id,i[a]]}o.text="Flights from "+t.title,l.zoomToGeoPoint({latitude:t.zoomLatitude,longitude:t.zoomLongitude},t.zoomLevel,!0)}C.mapLines.template.line.strokeOpacity=.5,l.events.on("ready",function(){y(n.dataItems.getIndex(0))}),l.series.push(new am4maps.GraticuleSeries).mapLines.template.line.strokeOpacity=.05})});